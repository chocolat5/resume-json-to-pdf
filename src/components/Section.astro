---
import type { Language, Link } from "@/types";

interface Props {
  title: string;
  items: string[] | Link[] | Language[];
  type?: "simple" | "link" | "language" | "grid";
}

const { title, items, type = "simple" } = Astro.props;
---

<div class="section">
  <h2 class="section-heading">{title}</h2>

  {
    type === "simple" && (
      <ul class="section-list">
        {(items as string[]).map((item) => (
          <li class="section-item">{item}</li>
        ))}
      </ul>
    )
  }

  {
    type === "link" && (
      <ul class="section-list">
        {(items as Link[]).map((link) => (
          <li class="section-item">
            <a
              href={link.url}
              class="section-link"
              target="_blank"
              rel="noopener noreferrer"
            >
              {link.name}
            </a>
          </li>
        ))}
      </ul>
    )
  }

  {
    type === "language" && (
      <ul class="section-list">
        {(items as Language[]).map((lang) => (
          <li class="section-item">
            <span class="section-language">{lang.language}:</span>
            <span class="section-level">{lang.level}</span>
          </li>
        ))}
      </ul>
    )
  }

  {
    type === "grid" && (
      <div class="section-grid">
        {(items as string[]).map((item) => (
          <span class="section-grid-item">{item}</span>
        ))}
      </div>
    )
  }
</div>

<style lang="scss">
  .section {
  }

  .section-heading {
    font-size: var(--fs-lg);
    font-weight: 500;
    line-height: var(--lh-tight);
    margin-bottom: var(--sp-md);
    color: var(--theme-text);
  }

  .section-list {
    display: flex;
    flex-direction: column;
    gap: var(--sp-xs);
  }

  .section-item {
    font-size: var(--fs-sm);
    line-height: var(--lh-normal);
    color: var(--theme-text);
  }

  .section-link {
    font-size: var(--fs-sm);
    line-height: var(--lh-normal);
    color: var(--theme-text);
    text-decoration: underline;

    &:hover {
      opacity: 0.8;
    }
  }

  .section-language {
    font-size: var(--fs-sm);
    font-weight: 500;
    line-height: var(--lh-normal);
    color: var(--theme-text);
  }

  .section-level {
    font-size: var(--fs-sm);
    line-height: var(--lh-normal);
    margin-left: var(--sp-xs);
    color: var(--theme-text);
  }

  .section-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--sp-sm);
  }

  .section-grid-item {
    font-size: var(--fs-sm);
    line-height: var(--lh-normal);
    color: var(--theme-text);
  }
</style>
